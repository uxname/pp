# AGENT GUIDE

На данный момент `kodu` — это пустой скелет: `src/index.ts` минимален и только подключает инфраструктуру из `src/core` и `src/commands`, так что новые команды можно добавлять без правки точки входа.

## Workflows

- `bun install` подтягивает зависимости по состоянию `bun.lock`.
- `bun run dev` запускает `src/index.ts` в режиме разработки и служит отправной точкой для локальной проверки новой логики.
- `bun run build` генерирует `dist/index.js` через `bun build`.
- `bun run lint` → `biome check`, `bun run ts:check` → `tsc --noEmit`, `bun run check` → `run-p ts:check lint` — оставьте эти команды актуальными для CI.

## Как расширять CLI

1. Команда — это объект с `register(program: Command)`; храните её в `src/commands/*.ts` и перечисляйте в `src/commands/index.ts`.
2. `src/core/cli.ts` подготовит `commander`, пробросит `package.json`-версию и вызовет каждый модуль через общий интерфейс (`CommandModule`).
3. Используйте `src/core` для повторно используемой логики и документации; обновляйте AGENTS/README при добавлении новой основы.

## О стиле

- Проект уже использует строгую TypeScript-конфигурацию (`strict`, `noImplicitOverride`, `noUncheckedIndexedAccess`). Дополняйте типы явно.
- `biome.json` отвечает за форматирование: две пробелы, одинарные кавычки, `organizeImports` и запрет `noUnused*`.
- В CLI держите описания команд лаконичными и добавляйте поясняющие лог-сообщения.

## Документация

- README объясняет, что проект в стадии переписывания, и содержит инструкции, как развернуть инфраструктуру.
- Дополните AGENTS новыми разделами по стилю, если появятся специфические гайды (напр. единый способ логирования, тестирования, release-процесс).

## Проверки перед PR

- Всегда запускайте `bun run check`.
- Если добавляете команду, протестируйте локально через `bun run dev` и убедитесь, что `npm`/`bun` скрипты не ломаются.
