# AGENT GUIDE

На данный момент `kodu` — это пустой скелет: в `src/index.ts` лежит базовый CLI без бизнес-логики, но инфраструктура для сборки, линта и тестов осталась на месте.

## Workflows

- `bun install` подтягивает зависимости по состоянию `bun.lock`.
- `bun run dev` запускает `src/index.ts` в режиме разработки и служит отправной точкой для локальной проверки новой логики.
- `bun run build` генерирует `dist/index.js` через `bun build`.
- `bun run lint` → `biome check`, `bun run ts:check` → `tsc --noEmit`, `bun run check` → `run-p ts:check lint` — оставьте эти команды актуальными для CI.

## Как расширять CLI

1. Добавляйте команды в `src/commands`, импортируйте из `src/index.ts`, описывайте флаги через `commander`.
2. Реализуйте любую новую логику (сканеры, утилиты, helpers) в `src/core`, `src/utils` и `src/config` по мере необходимости.
3. Храните типы в `src/types.ts` и экспортируйте их в зависимости от модуля.

## О стиле

- Проект уже использует строгую TypeScript-конфигурацию (`strict`, `noImplicitOverride`, `noUncheckedIndexedAccess`). Дополняйте типы явно.
- `biome.json` отвечает за форматирование: две пробелы, одинарные кавычки, `organizeImports` и запрет `noUnused*`.
- В CLI держите описания команд лаконичными и добавляйте поясняющие лог-сообщения.

## Документация

- README объясняет, что проект в стадии переписывания, и содержит инструкции, как развернуть инфраструктуру.
- Дополните AGENTS новыми разделами по стилю, если появятся специфические гайды (напр. единый способ логирования, тестирования, release-процесс).

## Проверки перед PR

- Всегда запускайте `bun run check`.
- Если добавляете команду, протестируйте локально через `bun run dev` и убедитесь, что `npm`/`bun` скрипты не ломаются.
